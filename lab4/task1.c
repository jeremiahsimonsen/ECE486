/* Define the mixer coefficients, 96 samples of cos(2*pi*1700/9600*n)
 * -sin(2*pi*1700/9600*n) values are found as mixer_coefs[n+24]
*/

 #include <stdio.h>
 #include "ece486_mixer.c"

float mixer_coefs[96] = {
						1.0000,
						0.4423,
					   -0.6088,
					   -0.9808,
					   -0.2588,
						0.7518,
						0.9239,
						0.0654,
					   -0.8660,
					   -0.8315,
						0.1305,
						0.9469,
						0.7071,
					   -0.3214,
					   -0.9914,
					   -0.5556,
						0.5000,
						0.9979,
						0.3827,
					   -0.6593,
					   -0.9659,
					   -0.1951,
						0.7934,
						0.8969,
						0.0000,
					   -0.8969,
					   -0.7934,
						0.1951,
						0.9659,
						0.6593,
					   -0.3827,
					   -0.9979,
					   -0.5000,
						0.5556,
						0.9914,
						0.3214,
					   -0.7071,
					   -0.9469,
					   -0.1305,
						0.8315,
						0.8660,
					   -0.0654,
					   -0.9239,
					   -0.7518,
						0.2588,
						0.9808,
						0.6088,
					   -0.4423,
					   -1.0000,
					   -0.4423,
						0.6088,
						0.9808,
						0.2588,
					   -0.7518,
					   -0.9239,
					   -0.0654,
						0.8660,
						0.8315,
					   -0.1305,
					   -0.9469,
					   -0.7071,
						0.3214,
						0.9914,
						0.5556,
					   -0.5000,
					   -0.9979,
					   -0.3827,
						0.6593,
						0.9659,
						0.1951,
					   -0.7934,
					   -0.8969,
					   -0.0000,
						0.8969,
						0.7934,
					   -0.1951,
					   -0.9659,
					   -0.6593,
						0.3827,
						0.9979,
						0.5000,
					   -0.5556,
					   -0.9914,
					   -0.3214,
						0.7071,
						0.9469,
						0.1305,
					   -0.8315,
					   -0.8660,
						0.0654,
						0.9239,
						0.7518,
					   -0.2588,
					   -0.9808,
					   -0.6088,
						0.4423
						};

float x[101] = {
			  0,
		      1,
		      2,
		      3,
		      4,
		      5,
		      6,
		      7,
		      8,
		      9,
		     10,
		     11,
		     12,
		     13,
		     14,
		     15,
		     16,
		     17,
		     18,
		     19,
		     20,
		     21,
		     22,
		     23,
		     24,
		     25,
		     26,
		     27,
		     28,
		     29,
		     30,
		     31,
		     32,
		     33,
		     34,
		     35,
		     36,
		     37,
		     38,
		     39,
		     40,
		     41,
		     42,
		     43,
		     44,
		     45,
		     46,
		     47,
		     48,
		     49,
		     50,
		     51,
		     52,
		     53,
		     54,
		     55,
		     56,
		     57,
		     58,
		     59,
		     60,
		     61,
		     62,
		     63,
		     64,
		     65,
		     66,
		     67,
		     68,
		     69,
		     70,
		     71,
		     72,
		     73,
		     74,
		     75,
		     76,
		     77,
		     78,
		     79,
		     80,
		     81,
		     82,
		     83,
		     84,
		     85,
		     86,
		     87,
		     88,
		     89,
		     90,
		     91,
		     92,
		     93,
		     94,
		     95,
		     96,
		     97,
		     98,
		     99,
		    100
			};

int main(char argc, char *argv[]){

	int i;
	int n_coef = 96;
	int blocksize = 101;
	float y[101];

	MIXER_T *s = init_mixer(mixer_coefs, n_coef, blocksize);
	calc_mixer(s, x, y);

	for(i=0;i<blocksize;i++){
		printf("%f\n", y[i]);
	}

	destroy_mixer(s);

	return 0;
}